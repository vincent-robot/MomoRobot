<!DOCTYPE html>
<html lang="fr">
<head>
    <meta charset="UTF-8">
    <title>Momorobot Manager</title>
    <meta name="viewport" content="width=device-width">
    <meta http-equiv="Cache-Control" content="no-cache, no-store, must-revalidate">
    <meta http-equiv="Pragma" content="no-cache">
    <meta http-equiv="Expires" content="0">

    <!-- Feuille de styles génériques -->
    <link rel="stylesheet" href="{{ url_for('static', filename='styles.css') }}" type="text/css">  

    <style type="text/css">
        form { position: relative; }
        input[type="range"] {
            position: relative;
            margin-left: 1em;
        }
        input[type="range"]:after, input[type="range"]:before {
            position: absolute;
            top: 1em;
            color: #aaa;
        }
        input[type="range"]:before {
            left:0em; 
            content: attr(min);
        }
        input[type="range"]:after {
            right: 0em;
            content: attr(max);
        }
        output {
            position: absolute;
            top: 35px; left: 70px;
        }
        </style>       
    

    <script src="{{ url_for('static', filename='joy.js') }}"></script>
</head>

<body>
    <h1> MOMOROBOT  </h1>
    <h1> Manual workout </h1>
    <div id="wrap">
    <br /><br /><br /><br />
  
    <form action="/manual" method="get" id="myform"></form>
    <div id="joy1Div"  style="width:400px;height:400px;"> </div>
        X :<input id="joy1X" type="text" onchange="submit_function()"/></br>
        Y :<input id="joy1Y" type="text" onchange="submit_function()"/></br>
    </div>

    <br /><br /><br /><br />
    
        <input type="submit" value="Submit">

    </form>    
    
    

    <p> {{date_du_jour}} </p>

    <script type="text/javascript">
        var Joy1 = new JoyStick('joy1Div');

        var joy1X = document.getElementById("joy1X");
        var joy1Y = document.getElementById("joy1Y");

        
        setInterval(update, 1000);
        
  
        function update() {
            joy1Y.value=Joy1.GetY();
            joy1X.value=Joy1.GetX();
            document.getElementById("myform").submit();
        }
    

      
        function submit_function() {
            document.getElementById("myform").submit();
        }
    </script>
</body>
</html>
